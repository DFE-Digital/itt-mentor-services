<%# locals: (current_navigation: nil, provider:) -%>

<%= content_for(:header_content) do %>
  <% if Flipper.enabled?(:provider_find_a_school) %>
    <%=  render ContentHeaderComponent.new(
    title: @provider.name,
    actions: [tag.span("Academic year 2024-2025", class: "govuk-body")],
    ) %>
  <% else %>
    <%= render Placements::OrganisationSwitcherComponent.new(user: current_user, organisation: provider) %>
  <% end %>
<% end %>



<%= content_for(:primary_navigation_content) do %>
  <%= render PrimaryNavigationComponent.new do |component| %>
    <% if Flipper.enabled?(:provider_find_a_school) %>
      <% component.with_navigation_item t(".overview"), placements_provider_overview_index_path(provider), current: current_navigation == :overview %>
      <% component.with_navigation_item t(".find"), placements_provider_find_index_path(provider), current: current_navigation == :find %>
    <% else %>
      <% component.with_navigation_item t(".placements"), placements_provider_placements_path(provider), current: current_navigation == :placements %>
    <% end %>
      <% component.with_navigation_item t(".schools"), placements_provider_partner_schools_path(provider), current: current_navigation == :partner_schools %>
    <% component.with_navigation_item t(".users"), placements_provider_users_path(provider), current: current_navigation == :users %>
    <% component.with_navigation_item t(".organisation_details"),
                                      placements_provider_path(provider),
                                      current: current_navigation == :organisation_details %>
  <% end %>
<% end %>
