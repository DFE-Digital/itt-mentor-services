<%# locals: (url:, name:, value: params[name], clear_search_url: "", label:, filters: []) -%>

<div class="govuk-form-group">
  <%= form_with(
    url:,
    method: "get",
    class: "search-form",
    data: { turbo: false },
  ) do |f| %>
    <%= f.govuk_text_field name, type: :search, value:, label: %>
    <%= f.govuk_submit t(".submit") %>
    <% if filters.present? %>
      <% filters.each do |filter| %>
        <%= f.hidden_field :filters, multiple: true, value: filter %>
      <% end %>
    <% end %>
  <% end %>
</div>

<% unless value.blank? %>
  <p class="clear-search">
    <%= govuk_link_to t(".clear"), clear_search_url, no_visited_state: true %>
  </p>
<% end %>
