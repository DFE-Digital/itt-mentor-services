<% content_for(:page_title) { @support_user_form.errors.empty? ? t(".page_title") : t(".page_title_with_errors") } %>
<% render "claims/support/primary_navigation", current: :users %>

<%= content_for(:before_content) do %>
  <%= govuk_back_link(href: claims_support_support_users_path) %>
<% end %>

<div class="govuk-width-container">
  <%= form_with(model: @support_user_form, scope: :support_user, url: check_claims_support_support_users_path, method: "get") do |f| %>
    <%= f.govuk_error_summary %>

    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds">
        <span class="govuk-caption-l"><%= t(".caption") %></span>
        <h2 class="govuk-heading-l"><%= t(".title") %></h2>

        <div class="govuk-form-group">
          <%= f.govuk_text_field :first_name,
                                  class: "govuk-input--width-20",
                                  label: { text: User.human_attribute_name(:first_name), size: "s" } %>
        </div>

        <div class="govuk-form-group">
          <%= f.govuk_text_field :last_name,
                                  class: "govuk-input--width-20",
                                  label: { text: User.human_attribute_name(:last_name), size: "s" } %>
        </div>

        <div class="govuk-form-group">
          <%= f.govuk_text_field :email,
                                 label: { text: User.human_attribute_name(:email), size: "s" },
                                 hint: { text: t(".attributes.email.hint") } %>
        </div>

        <%= f.govuk_submit t(".submit") %>

        <p class="govuk-body">
          <%= govuk_link_to(t(".cancel"), claims_support_support_users_path) %>
        </p>
      </div>
    </div>
  <% end %>
</div>
