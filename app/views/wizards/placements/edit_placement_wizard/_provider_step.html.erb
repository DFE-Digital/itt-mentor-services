<% content_for :page_title, title_with_error_prefix(
  t(".title", contextual_text:),
  error: current_step.errors.any?,
) %>

<%= render AutocompleteSelectFormComponent.new(
  model: current_step,
  scope: current_step.scope,
  url: current_step_path,
  method: :put,
  warning_text: t(".not_contractual_agreement"),
  data: {
    autocomplete_path_value: current_step.autocomplete_path_value,
    autocomplete_return_attributes_value: current_step.autocomplete_return_attributes_value,
  },
  input: {
    value: current_step.provider_name,
    label: t(".select_a_provider"),
    caption: contextual_text,
    previous_search: current_step.provider_id,
    field_name: :provider_id,
  },
) %>
